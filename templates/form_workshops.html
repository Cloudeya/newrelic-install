{% extends 'layout.html' %}

{% block metatags %}

<meta name="description" content="Fill out this form to get in touch with us.">

{% endblock %}

{% block title %}MindHug - Contact Us{% endblock %}

{% block style %}

{% endblock %}

{% block body %}

<iframe name="votar" style="display:none;"></iframe>
<div class="container" id="form_con" style="border: 1px solid rgb(64,224,208);">
    <form id="contact_workshop" target="votar" method="post">
        <h1>Contact us</h1>
        <h6>Get in touch with us today</h6>

        <fieldset>
            <input placeholder="First Name" type="text" tabindex="1" id="fname" name="fname" oninvalid="this.setCustomValidity('Please enter your first name')" oninput="this.setCustomValidity('')" required autofocus>
        </fieldset>

        <fieldset>
            <input placeholder="Last Name" type="text" tabindex="1" id="lname" name="lname">
        </fieldset>

        <fieldset>
            <input placeholder="Email address" type="email" id="email" name="email" tabindex="2" oninvalid="this.setCustomValidity('Please enter a valid email address')" oninput="this.setCustomValidity('')" required >
        </fieldset>

        <fieldset>
            <input placeholder="Organisation's name" type="text" id="company" name="company" tabindex="3">
        </fieldset>
        <fieldset>
            <textarea rows="4" cols="50" name="comment" form="contact_workshop" id="mess" placeholder="Your message" tabindex="4"></textarea>
        </fieldset>
        <fieldset>
            <button name="submit" type="submit" id="contact-submit" tabindex="5" onclick="myFunction()">Submit</button>
            <label  for="field_terms"><input type="checkbox" class="btn-lg" id="field_terms" style="margin: 5px; padding: 0px;" oninvalid="this.setCustomValidity('Please check the box to continue')" oninput="this.setCustomValidity('')" required/><font style="font-size: 12px; font-weight: normal; color: dimgrey">I accept <a href="/privacy-policy" target="_blank"><u>privacy policy</u></a> and <a href = "/cookie-policy" target="_blank"><u>cookie policy</u></a>.</font><span class="mock_checkbox"></span></label>

        </fieldset>
        <a href="/" class="btn btn-primary">Go back to Home</a>
    </form>

    <!-- The Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-dialog-centered" >
            <div class="modal-content">
                <div class="modal-body">
                    <font style="font-size: 20px">Thanks for contacting us, we'll get back to you soon.</font>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block script %}

<script>
    function myFunction() {
        var name = document.forms["contact_workshop"]["fname"].value;
        var email = document.forms["contact_workshop"]["email"].value;
        if (name!="" && validate(email) && document.getElementById('field_terms').checked) {
            $('#myModal').modal('show');
        }
        else {
            return false;
        }
    }
    function closeModal() {
        document.getElementById("contact_workshop").reset();
        window.location.href = "/";
    }
    function validate(email) {
        var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{1,4})$/;
        if (reg.test(email) == false) {
            return false;
        } else {
            return true;
        }
    }
</script>

{% endblock %}
